# ========================================
# PANDAS Backend - Environment Variables
# ========================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git!

# ========================================
# DATABASE CONFIGURATION
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pandas_db
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Database Connection Pool (optional)
DB_POOL_MIN=2
DB_POOL_MAX=10

# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=3000
NODE_ENV=development
# Options: development, staging, production

# CORS - Frontend URLs allowed to access API
FRONTEND_URL=http://localhost:3001
CORS_ORIGINS=http://localhost:3001,http://localhost:3000

# ========================================
# AUTHENTICATION & SECURITY
# ========================================
# JWT Secret (MUST BE LONG AND RANDOM!)
# Generate: openssl rand -base64 32
JWT_SECRET=your_very_long_random_secret_key_change_this_in_production
JWT_EXPIRY=7d
# Options: 1h, 24h, 7d, 30d

# Refresh Token
REFRESH_TOKEN_SECRET=another_very_long_random_secret_key
REFRESH_TOKEN_EXPIRY=30d

# Password Hashing (bcrypt)
BCRYPT_ROUNDS=10

# ========================================
# TWILIO (Video Calls & SMS)
# ========================================
# Get from: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here

# Twilio Video
TWILIO_API_KEY=SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_API_SECRET=your_api_secret_here

# Twilio SMS/WhatsApp
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=whatsapp:+1234567890

# ========================================
# STRIPE (Payment Processing)
# ========================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Connect (Agent Payouts)
STRIPE_CONNECT_CLIENT_ID=ca_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# M-PESA (Tanzania Mobile Money)
# ========================================
# Vodacom M-Pesa API
MPESA_CONSUMER_KEY=your_consumer_key_here
MPESA_CONSUMER_SECRET=your_consumer_secret_here
MPESA_SHORTCODE=174379
MPESA_PASSKEY=your_passkey_here
MPESA_CALLBACK_URL=https://your-domain.com/api/mpesa/callback

# M-Pesa Environment
MPESA_ENV=sandbox
# Options: sandbox, production

# ========================================
# AWS (File Storage)
# ========================================
# Get from: AWS Console > IAM > Users
AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=your_secret_access_key_here
AWS_REGION=us-east-1
# Options: us-east-1, eu-west-1, ap-southeast-1, etc

# S3 Buckets
AWS_S3_BUCKET=pandas-uploads
AWS_S3_BUCKET_DOCUMENTS=pandas-documents
AWS_S3_BUCKET_VIDEOS=pandas-verifications

# CloudFront (CDN - optional)
AWS_CLOUDFRONT_DOMAIN=d1234567890abc.cloudfront.net

# ========================================
# EMAIL (SendGrid)
# ========================================
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email Settings
FROM_EMAIL=noreply@pandaslogistics.com
FROM_NAME=PANDAS Global Logistics
SUPPORT_EMAIL=support@pandaslogistics.com

# ========================================
# SMS (Alternative to Twilio)
# ========================================
# Africa's Talking API (optional)
AFRICAS_TALKING_USERNAME=sandbox
AFRICAS_TALKING_API_KEY=your_api_key_here
AFRICAS_TALKING_FROM=PANDAS

# ========================================
# WHATSAPP BUSINESS API
# ========================================
# Get from: Meta Business Suite
WHATSAPP_API_TOKEN=your_whatsapp_api_token_here
WHATSAPP_PHONE_NUMBER_ID=123456789012345
WHATSAPP_BUSINESS_ACCOUNT_ID=123456789012345

# ========================================
# REDIS (Caching & Sessions)
# ========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
# Leave empty if no password

# Redis Session Config
SESSION_SECRET=another_random_secret_for_sessions
SESSION_MAX_AGE=86400000
# In milliseconds (86400000 = 24 hours)

# ========================================
# LOGGING & MONITORING
# ========================================
# Sentry (Error Tracking)
# Get from: https://sentry.io/
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@sentry.io/1234567

# Log Level
LOG_LEVEL=info
# Options: error, warn, info, debug

# ========================================
# ANALYTICS
# ========================================
# Mixpanel
MIXPANEL_TOKEN=your_mixpanel_token_here

# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# ========================================
# GOOGLE MAPS (Location Services)
# ========================================
# Get from: Google Cloud Console
GOOGLE_MAPS_API_KEY=AIzaSyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ========================================
# RATE LIMITING
# ========================================
# API rate limits (requests per window)
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds

RATE_LIMIT_MAX_REQUESTS=100
# Max requests per window

# ========================================
# FILE UPLOAD LIMITS
# ========================================
MAX_FILE_SIZE=10485760
# In bytes (10485760 = 10MB)

MAX_FILES_PER_UPLOAD=5

ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# ========================================
# VERIFICATION SETTINGS
# ========================================
# Verification pricing
VERIFICATION_FEE_USD=50.00
AGENT_COMMISSION_PERCENTAGE=70
# Agent gets 70%, PANDAS gets 30%

# Verification durations
DEFAULT_VERIFICATION_DURATION_MINUTES=60
MAX_VERIFICATION_DURATION_MINUTES=120

# ========================================
# TIMEZONE
# ========================================
TZ=UTC
# Options: UTC, Africa/Dar_es_Salaam, Asia/Shanghai, Asia/Dubai

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_SMS_VERIFICATION=true
ENABLE_WHATSAPP_NOTIFICATIONS=false
ENABLE_AGENT_BACKGROUND_CHECK=true

# ========================================
# DEVELOPMENT / DEBUG
# ========================================
# Only for development!
DEBUG=false
VERBOSE_LOGGING=false
MOCK_PAYMENTS=false
MOCK_VIDEO_CALLS=false

# ========================================
# PRODUCTION ONLY
# ========================================
# Only set these in production
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
# TRUST_PROXY=true